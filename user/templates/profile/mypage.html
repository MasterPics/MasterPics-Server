{% extends 'core/layout.html' %}

{% load static %}

{% block stylesheet %}
    <link rel="stylesheet" href="{% static 'css/profile/profile_detail.css' %}">
{% endblock stylesheet %}


{% block content %}
    <div class="container">
        <div>{{request.user.username}}</div>
        <div>
            {% for portfolio in portfolios %}
                <div>
                    {{ portfolio.title }}
                </div>
                <div>
                    {{ portfolio.like_users.count }}
                </div>
                <div>
                    {{ portfolio.bookmark_users.count }}
                </div>
            {% endfor %}
        </div>
        <div>
            {% for contact in contacts %}
                <div>
                    {{ contact.title }}
                </div>
                <div>
                    {{ contact.like_users.count }}
                </div>
                <div>
                    {{ contact.bookmark_users.count }}
                </div>
            {% endfor %}
        </div>
    </div>
{% endblock content%}



{% block script %}
<!-- <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

<script>
    const contentBox = document.querySelector('.post__container');

    const onClickMyPortfolio = async() => {
        const url = '/profile/mypage/portfolio/my_portfolio/';
        const {data} = await axios.get(url);
        printMyPortfolio(data.portfolioList);
    };

    const printMyPortfolio = (portfolioList) => {
        contentBox.innerHTML = '';
        for(let i = 0; i < portfolioList.length; i++) {
            // 각 portfolio의 pk, img링크, like_count, view_count 필요
            const innerHtmlTemplate = `<div>
                                            <a href='http://127.0.0.1:8000/portfolio/` + portfolioList[i].id + `'>`
                                            + `<img src='` + portfolioList[i].thumbnail + `'>`
                                            + `<div class='like_count'>` + portfolioList[i].like_count + `</div>`
                                            + `<div class='view_count'>` + portfolioList[i].view_count + `</div>`
                                        + `</div>`
        }
    }
</script> -->

<script type="text/javascript" src="{% static 'js/profile/profile_detail.js' %}"></script>
<script type="text/javascript" src="{% static 'js/profile/profile_detail_posts.js' %}"></script>
<script type="text/javascript" src="{% static 'js/profile/profile_detail_saves.js' %}"></script>
{% endblock script %}